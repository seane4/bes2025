{
  "version": 2,
  "builds": [
    {
      "src": "**/*",
      "use": "@vercel/static"
    },
    {
      "src": "pages/api/**/*.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/pages/api/(.*)",
      "dest": "/api/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/$1"
    }
  ],
  "outputDirectory": ".",
  "buildCommand": "node -e \"const fs=require('fs'); let content=fs.readFileSync('js/env-config.js', 'utf8'); content=content.replace(/\\{\\{NEXT_PUBLIC_SUPABASE_URL\\}\\}/g, process.env.NEXT_PUBLIC_SUPABASE_URL || ''); content=content.replace(/\\{\\{NEXT_PUBLIC_SUPABASE_ANON_KEY\\}\\}/g, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''); content=content.replace(/\\{\\{NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\\}\\}/g, process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY || ''); content=content.replace(/\\{\\{NEXT_PUBLIC_SITE_URL\\}\\}/g, process.env.NEXT_PUBLIC_SITE_URL || ''); fs.writeFileSync('js/env-config.js', content);\""
} 